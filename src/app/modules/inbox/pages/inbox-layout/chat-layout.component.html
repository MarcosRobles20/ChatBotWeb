<mat-sidenav-container class="chat-container" [hasBackdrop]="false">
  <!-- Sidebar -->
  <mat-sidenav 
    #sidenav 
    mode="side" 
    [opened]="true"
    [disableClose]="true"
    [fixedInViewport]="false"
    [style.width.px]="sidenavWidth"
    [class.collapsed]="sidenavMinimized"
    [class.expanded]="!sidenavMinimized"
    [class.no-transition]="isInitialLoad"
    class="chat-sidenav">
    <app-chat-sidebar 
      [selectedChatId]="selectedChatId"
      [minimized]="sidenavMinimized"
      (chatSelected)="onChatSelected($event)"
      (welcomeRequested)="onWelcomeRequested()"
      (toggleRequested)="toggleSidenav()">
    </app-chat-sidebar>
  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content class="chat-content">
    <!-- Content Area -->
    <div class="main-content">
      <div *ngIf="!selectedChat" class="welcome-message">
        <div class="welcome-icon">
          <img src="/images/salchi_pixel_ready.png" alt="Salchi" class="welcome-logo">
        </div>
        <h2 class="welcome-title">¡Bienvenido a tu asistente Wienner!</h2>
        <p class="welcome-text">Selecciona un chat del sidebar para comenzar a conversar</p>
      </div>

      <!-- Aquí se cargará el componente del chat específico -->
      <div *ngIf="selectedChat" class="chat-detail">
        <router-outlet></router-outlet>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>